Домашнее задание: Тестирование API с Playwright
Данное домашнее задание направлено на практическое применение и закрепление навыков в области автоматизации тестирования API. В этом задании мы будем работать с учебным ресурсом Restful-booker, который эмулирует систему бронирования отеля.
Цель: Написать набор тестов для проверки основных CRUD-операций (Create, Read, Update, Delete) для сущности "Booking".
Инструменты:
●	Playwright Test
●	JavaScript
Ресурс для тестирования:
●	Документация по API: https://restful-booker.herokuapp.com/apidoc/index.html
●	Базовый URL: https://restful-booker.herokuapp.com
________________________________________
Задание
Необходимо создать 4 теста, по одному на каждую CRUD-операцию:
1. Создание бронирования (Create - POST)
●	Отправьте POST запрос на эндпоинт /booking.
●	В теле запроса передайте валидные данные для создания нового бронирования.
●	Проверки:
○	Статус-код ответа равен 200 OK.
○	В ответе (response body) содержится bookingid.
○	В ответе возвращаются те же данные, которые вы отправляли в запросе (имя, фамилия, цена и т.д.).
2. Получение информации о бронировании (Read - GET)
●	Используйте bookingid, полученный в первом тесте.
●	Отправьте GET запрос на эндпоинт /booking/{id}.
●	Проверки:
○	Статус-код ответа равен 200 OK.
○	Данные в ответе (имя, фамилия и т.д.) соответствуют данным, созданным в первом тесте.

3. Обновление бронирования (Update - PUT)
●	Вам понадобится токен авторизации. Для его получения отправьте POST запрос на эндпоинт /auth с данными username: "admin" и password: "password123".
●	Используйте bookingid из первого теста.
●	Отправьте PUT запрос на эндпоинт /booking/{id}, передав в заголовке Cookie полученный токен (например, Cookie: token=...).
●	В теле запроса передайте обновленные данные (например, измените имя и цену).
●	Проверки:
○	Статус-код ответа равен 200 OK.
○	В ответе содержатся обновленные данные.
4. Удаление бронирования (Delete - DELETE)
●	Вам также понадобится токен авторизации (можно использовать тот же, что и в PUT запросе).
●	Используйте bookingid из первого теста.
●	Отправьте DELETE запрос на эндпоинт /booking/{id}, передав в заголовке Cookie токен.
●	Проверки:
○	Статус-код ответа равен 201 Created.
○	(Дополнительно) Попробуйте после удаления отправить GET запрос на тот же id и убедитесь, что сервер отвечает со статус-кодом 404 Not Found.
○	

 
Пример: Тест для GET-запроса (GetBookingIds)
Вот небольшой пример, который поможет вам сориентироваться. Этот тест проверяет получение списка всех ID бронирований.
JavaScript
// tests/api.spec.js

import { test, expect } from '@playwright/test';

test.describe('API-тесты для Restful-booker', () => {

  const baseURL = 'https://restful-booker.herokuapp.com';

  test('Получение списка ID бронирований', async ({ request }) => {
    // Отправляем GET-запрос
    const response = await request.get(`${baseURL}/booking`);

    // Проверка 1: Статус-код ответа
    console.log(`Статус-код: ${response.status()}`);
    expect(response.status()).toBe(200);

    // Проверка 2: Тело ответа не пустое
    const responseBody = await response.json();
    console.log('Тело ответа:', responseBody);
    expect(responseBody.length).toBeGreaterThan(0);

    // Проверка 3: В ответе есть объекты с ключом 'bookingid'
    expect(responseBody[0]).toHaveProperty('bookingid');
  });
});


Тесты напишите в файле // tests/api.spec.js в существующем фреймворке и отправьте его на гитхаб репозиторий который используете.
Eсли будут сложности с bookingId и authToken и передачей их между тестами, можете значения указывать в переменных в самих тестах.
Приложите скрины с пройденными тестами. Успехов!
